---
hide_table_of_contents: true
sidebar_label: Prompt Selectors
---

# Prompt Selectors

:::info
[개념 가이드](https://docs.langchain.com/docs/components/chains/prompt-selector)
:::

종종 체인에서 사용 중인 모델 유형에 따라 프롬프트를 프로그래밍 방식으로 선택해야 할 때가 있습니다. 특히 채팅 모델과 LLM을 교체할 때 유용합니다.

프롬프트 선택기의 인터페이스는 매우 간단합니다.

```typescript
abstract class BasePromptSelector {
  abstract getPrompt(llm: BaseLanguageModel): BasePromptTemplate;
}
```

`getPrompt` 메서드는 언어 모델을 사용하고 적절한 프롬프트 템플릿을 반환합니다.

현재 조건 집합과 프롬프트 템플릿을 지정할 수 있는 `ConditionalPromptSelector`를 제공하고 있습니다. 참으로 평가되는 첫 번째 조건은 프롬프트 템플릿을 선택하는 데 사용됩니다.

```typescript
const QA_PROMPT_SELECTOR = new ConditionalPromptSelector(DEFAULT_QA_PROMPT, [
  [isChatModel, CHAT_PROMPT],
]);
```

이 함수는 모델이 채팅 모델이 아닌 경우 `DEFAULT_QA_PROMPT`를 반환하고, 채팅 모델인 경우 `CHAT_PROMPT`를 반환합니다.

아래 예시는 체인을 로드할 때 프롬프트 선택기를 사용하는 방법을 보여줍니다:

```typescript
const loadQAStuffChain = (
  llm: BaseLanguageModel,
  params: StuffQAChainParams = {}
) => {
  const { prompt = QA_PROMPT_SELECTOR.getPrompt(llm) } = params;
  const llmChain = new LLMChain({ prompt, llm });
  const chain = new StuffDocumentsChain({ llmChain });
  return chain;
};
```
